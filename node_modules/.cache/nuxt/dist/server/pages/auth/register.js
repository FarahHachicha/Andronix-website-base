exports.ids = [20];
exports.modules = {

/***/ 122:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/auth/register.vue?vue&type=template&id=62e0af57&scoped=true&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "bg-background"
  }, [_c('loading', {
    attrs: {
      "active": _vm.isLoading,
      "background-color": "#0F1535",
      "color": "#ff8b25",
      "is-full-page": true
    },
    on: {
      "update:active": function ($event) {
        _vm.isLoading = $event;
      }
    }
  }), _vm._ssrNode(" "), _vm._ssrNode("<div class=\"mt-32 lg:mt-24 px-12 md:py-12 md:px-24 flex bg-background justify-center items-center top-section\" data-v-62e0af57>", "</div>", [_vm._ssrNode("<div data-v-62e0af57>", "</div>", [_c('XyzTransition', {
    attrs: {
      "appear-visible": "",
      "xyz": "fade small"
    }
  }, [_c('h1', {
    staticClass: "heading tracking-tight"
  }, [_vm._v("Hello.")])]), _vm._ssrNode(" "), _vm._ssrNode("<div data-v-62e0af57>", "</div>", [_c('XyzTransition', {
    attrs: {
      "appear-visible": "",
      "xyz": "fade right-100% small"
    }
  }, [_c('FormulateForm', {
    ref: "form",
    staticClass: "login-form",
    on: {
      "submit": _vm.registerWithEmail
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function ({
        hasErrors
      }) {
        return [_c('div', {
          staticClass: "w-10/12 mx-auto"
        }, [_c('div', {
          staticClass: "grid gap-x-5 grid-cols-1 mb-6 mt-12"
        }, [_c('FormulateInput', {
          attrs: {
            "type": "text",
            "name": "email",
            "id": "register_email_input",
            "placeholder": "Email",
            "input-class": "formulate-input-class",
            "label-class": "formulate-label-class",
            "error-class": "formulate-error-class",
            "outer-class": "mb-4",
            "help-class": "formulate-help-class",
            "validation": "^required|email"
          }
        }), _vm._v(" "), _c('FormulateInput', {
          attrs: {
            "type": "password",
            "name": "password",
            "id": "register_password_input",
            "input-class": "formulate-input-class",
            "label-class": "formulate-label-class",
            "placeholder": "Password",
            "error-class": "formulate-error-class",
            "outer-class": "mb-4",
            "help-class": "formulate-help-class",
            "validation": "required|min:6,length"
          }
        }), _vm._v(" "), _c('FormulateInput', {
          attrs: {
            "type": "password",
            "name": "password_confirm",
            "id": "register_password_confirm_input",
            "input-class": "formulate-input-class",
            "label-class": "formulate-label-class",
            "placeholder": "Confirm Password",
            "error-class": "formulate-error-class",
            "outer-class": "mb-4",
            "help-class": "formulate-help-class",
            "validation": "required|confirm"
          }
        })], 1), _vm._v(" "), _c('recaptcha', {
          staticClass: "my-6"
        }), _vm._v(" "), _c('FormulateInput', {
          attrs: {
            "type": "submit",
            "id": "register_submit_button",
            "input-class": `md:w-full w-10/12 mx-auto flex justify-center items-center rounded font-bold py-3 px-3 text-white transition transform duration-300 ${!hasErrors ? 'bg-primary-500 opacity-1' : 'bg-gray-600 opacity-50'}`,
            "disabled": hasErrors,
            "label": _vm.isLoading ? 'Loading...' : 'Register'
          }
        })], 1)];
      }
    }])
  })], 1)], 1), _vm._ssrNode(" <div class=\"my-4 text-gray-500 text-sm text-center\" data-v-62e0af57>OR</div> "), _c('XyzTransition', {
    attrs: {
      "appear-visible": "",
      "xyz": "fade left-100% small"
    }
  }, [_c('div', [_c('div', {
    staticClass: "md:w-full w-10/12 mx-auto px-4 mx-5 py-2 bg-card_background rounded cursor-pointer transition duration-300 hover:bg-card_background_accent",
    on: {
      "click": _vm.googleLogin
    }
  }, [_c('div', {
    staticClass: "flex justify-between items-center"
  }, [_c('div', {
    staticClass: "mr-10"
  }, [_c('svg', {
    staticClass: "fill-current text-green-400 w-4 ml-1",
    attrs: {
      "viewBox": "0 0 533.5 544.3",
      "xmlns": "http://www.w3.org/2000/svg"
    }
  }, [_c('path', {
    attrs: {
      "d": "M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z",
      "fill": "#4285f4"
    }
  }), _vm._v(" "), _c('path', {
    attrs: {
      "d": "M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z",
      "fill": "#34a853"
    }
  }), _vm._v(" "), _c('path', {
    attrs: {
      "d": "M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z",
      "fill": "#fbbc04"
    }
  }), _vm._v(" "), _c('path', {
    attrs: {
      "d": "M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z",
      "fill": "#ea4335"
    }
  })])]), _vm._v(" "), _c('p', {
    staticClass: "text-white font-semibold text-lg text-center -ml-5 mr-5"
  }, [_vm._v("Continue with Google")])])]), _vm._v(" "), _c('p', {
    staticClass: "text-white mt-8 text-center"
  }, [_vm._v("Already registered?\n            "), _c('NuxtLink', {
    staticClass: "underline font-extrabold",
    attrs: {
      "to": "/auth/login"
    }
  }, [_vm._v("Login")])], 1)])])], 2)])], 2);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./pages/auth/register.vue?vue&type=template&id=62e0af57&scoped=true&

// EXTERNAL MODULE: external "vue-loading-overlay"
var external_vue_loading_overlay_ = __webpack_require__(53);
var external_vue_loading_overlay_default = /*#__PURE__*/__webpack_require__.n(external_vue_loading_overlay_);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/auth/register.vue?vue&type=script&lang=js&

/* harmony default export */ var registervue_type_script_lang_js_ = ({
  created() {
    if (this.$store.getters['auth/isUserLoggedIn']) {
      console.log('Logged in');
      this.$router.push('/user/profile');
    } else {
      console.log('Not Logged in');
    }
  },
  computed: {
    isLoggedIn: function () {
      return this.$store.getters['auth/isUserLoggedIn'];
    }
  },
  components: {
    Loading: external_vue_loading_overlay_default.a
  },
  data: () => {
    return {
      isLoading: false,
      email: '',
      password: ''
    };
  },
  watch: {
    isLoggedIn(val) {
      console.log(val);
      if (val) {
        console.log('Logged in');
        this.$router.push('/user/profile');
      } else {
        console.log('Not Logged in');
      }
    }
  },
  methods: {
    async registerWithEmail(data) {
      this.isLoading = true;
      let token;
      /* ===========CAPTCHA============= */
      try {
        token = await this.$recaptcha.getResponse();
      } catch (e) {
        this.isLoading = false;
        this.$toast.error('Are... are you a bot? Please complete the captcha.');
        return;
      }
      await this.$axios.get(`/sec/captcha?token=${token}`);
      try {
        await this.$store.dispatch('auth/registerUserWithEmailPassword', {
          email: data.email,
          password: data.password
        });
        this.isLoading = false;
        await this.$router.push('/');
      } catch (e) {
        this.isLoading = false;
        this.$toast.error(e);
      }
    },
    async googleLogin() {
      this.isLoading = true;
      try {
        await this.$store.dispatch('auth/loginWithGoogle');
        this.isLoading = false;
        await this.$router.push('/');
      } catch (e) {
        this.isLoading = false;
        this.$toast.error(e);
      }
    },
    name: 'register'
  }
});
// CONCATENATED MODULE: ./pages/auth/register.vue?vue&type=script&lang=js&
 /* harmony default export */ var auth_registervue_type_script_lang_js_ = (registervue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./pages/auth/register.vue



function injectStyles (context) {
  
  
}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  auth_registervue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "62e0af57",
  "4dfad3a0"
  
)

/* harmony default export */ var register = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=register.js.map